{"version":3,"file":"js/230.5a0e6f01097190f9039a.js","mappings":"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","sources":["webpack:///./src/store/index.js","webpack:///./src/Utilities/asyncComponent.js","webpack:///./src/Routes.js","webpack:///./src/App.js","webpack:///./src/AppEntry.js","webpack:///./src/Utilities/getBaseName.js","webpack:///./src/boostrap.js"],"sourcesContent":["import ReducerRegistry from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport promiseMiddleware from 'redux-promise-middleware';\n\nlet registry;\n\nexport function init (...middleware) {\n    if (registry) {\n        throw new Error('store already initialized');\n    }\n\n    registry = new ReducerRegistry({}, [\n        promiseMiddleware,\n        ...middleware\n    ]);\n\n    //If you want to register all of your reducers, this is good place.\n    /*\n     *  registry.register({\n     *    someName: (state, action) => ({...state})\n     *  });\n     */\n    return registry;\n}\n\nexport function getStore () {\n    return registry.getStore();\n}\n\nexport function register (...args) {\n    return registry.register(...args);\n}\n","import React, { Component } from 'react';\nimport { Skeleton } from '@redhat-cloud-services/frontend-components';\n\n/**\n * Webpack allows loading components asynchronously by using import().\n *\n *      Ex) const Component = asyncComponent(() => import('component');\n *\n *          class aClass extends React.Component {\n *              render() {\n *                  return (<Component prop1=\"prop1\" prop2=\"prop2\" ... />);\n *              }\n *          }\n *\n *  https://reactjs.org/docs/higher-order-components.html\n *\n * @param importComponent a function that contains and async import statement\n *      Ex) () => import('react-component')\n *\n * @returns {AsyncComponent} The imported component or can return a loading\n */\nexport default function asyncComponent(importComponent) {\n    class AsyncComponent extends Component {\n        constructor(props) {\n            super(props);\n\n            this.state = {\n                component: null\n            };\n        }\n\n        async componentDidMount() {\n            const { default: component } = await importComponent();\n\n            this.setState({\n                component\n            });\n        }\n\n        render() {\n            const C = this.state.component;\n\n            return C ? <C { ...this.props } /> : <Skeleton />;\n        }\n    }\n\n    return AsyncComponent;\n}\n","import { Redirect, Route, Switch, useLocation } from 'react-router-dom';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport asyncComponent from './Utilities/asyncComponent';\nimport some from 'lodash/some';\n\n/**\n * Aysnc imports of components\n *\n * https://webpack.js.org/guides/code-splitting/\n * https://reactjs.org/docs/code-splitting.html\n *\n * pros:\n *      1) code splitting\n *      2) can be used in server-side rendering\n * cons:\n *      1) nameing chunk names adds unnecessary docs to code,\n *         see the difference with DashboardMap and InventoryDeployments.\n *\n */\nconst CommitPage = asyncComponent(() => import(/* webpackChunkName: \"CommitPage\" */ './Routes/CommitPage/CommitPage'));\nconst OopsPage = asyncComponent(() => import(/* webpackChunkName: \"OopsPage\" */ './Routes/OopsPage/OopsPage'));\nconst NoPermissionsPage = asyncComponent(() => import(/* webpackChunkName: \"NoPermissionsPage\" */ './Routes/NoPermissionsPage/NoPermissionsPage'));\n\nconst paths = {\n    pageAppCommit: '/:app/:commit',\n    pageApp: '/:app',\n    page: '/',\n    oops: '/oops',\n    noPermissions: '/no-permissions'\n};\n\nconst InsightsRoute = ({ component: Component, rootClass, ...rest }) => {\n    const root = document.getElementById('root');\n    root.removeAttribute('class');\n    root.classList.add(`page__${rootClass}`, 'pf-c-page__main');\n    root.setAttribute('role', 'main');\n\n    return (<Route {...rest} component={Component} />);\n};\n\nInsightsRoute.propTypes = {\n    component: PropTypes.func,\n    rootClass: PropTypes.string\n};\n\n/**\n * the Switch component changes routes depending on the path.\n *\n * Route properties:\n *      exact - path must match exactly,\n *      path - https://prod.foo.redhat.com:1337/insights/advisor/rules\n *      component - component to be rendered when a route has been chosen.\n */\nexport const Routes = () => {\n    const path = useLocation().pathname;\n\n    return (\n        <Switch>\n            <InsightsRoute path={paths.pageAppCommit} component={CommitPage} rootClass='samplePage'/>\n            <InsightsRoute path={paths.pageApp} component={CommitPage} rootClass='samplePage'/>\n            <InsightsRoute path={paths.page} component={CommitPage} rootClass='samplePage' />\n            <InsightsRoute path={paths.oops} component={OopsPage} rootClass='oopsPage' />\n            <InsightsRoute path={paths.noPermissions} component={NoPermissionsPage} rootClass='noPermissionsPage' />\n            { /* Finally, catch all unmatched routes */}\n            <Route render={() => some(paths, p => p === path) ? null : (<Redirect to={paths.samplePage} />)} />\n        </Switch>\n    );\n};\n\nRoutes.propTypes = {\n    childProps: PropTypes.shape({\n        history: PropTypes.shape({\n            push: PropTypes.func\n        })\n    })\n};\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Routes } from './Routes';\nimport './App.scss';\n\nimport { Provider } from 'react-redux';\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nconst registry = getRegistry();\nregistry.register({ notifications: notificationsReducer });\n\nclass App extends Component {\n\n    componentDidMount () {\n        insights.chrome.init();\n        // TODO change this to your appname\n        insights.chrome.identifyApp('commit-tracker');\n\n        this.appNav = insights.chrome.on('APP_NAVIGATION', event => this.props.history.push(`/${event.navId}`));\n    }\n\n    componentWillUnmount () {\n        this.appNav();\n    }\n\n    render () {\n        return (\n            <Provider store={ registry.getStore() }>\n                <NotificationsPortal />\n                <Routes childProps={ this.props } />\n            </Provider>\n        );\n    }\n}\n\nApp.propTypes = {\n    history: PropTypes.object\n};\n\n/**\n * withRouter: https://reacttraining.com/react-router/web/api/withRouter\n * connect: https://github.com/reactjs/react-redux/blob/master/docs/api.md\n *          https://reactjs.org/docs/higher-order-components.html\n */\nexport default withRouter (connect()(App));\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport logger from 'redux-logger';\nimport { init } from './store';\nimport App from './App';\nimport getBaseName from './Utilities/getBaseName';\n\nconst CommitTracker = () => (\n    <Provider store={ init(logger).getStore() }>\n        <Router basename={ getBaseName(window.location.pathname) }>\n            <App />\n        </Router>\n    </Provider>\n);\n\nexport default CommitTracker;\n","function getBaseName(pathname) {\n    let release = '/';\n    const pathName = pathname.split('/');\n\n    pathName.shift();\n\n    if (pathName[0] === 'beta') {\n        pathName.shift();\n        release = `/beta/`;\n    }\n\n    return `${release}${pathName[0]}/${pathName[1] || ''}`;\n}\n\nexport default getBaseName;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport CommitTracker from './AppEntry';\n\nReactDOM.render(<CommitTracker />, document.getElementById('root'));\n"],"names":["registry","init","Error","middleware","ReducerRegistry","promiseMiddleware","asyncComponent","importComponent","props","state","component","this","setState","C","Skeleton","Component","CommitPage","OopsPage","NoPermissionsPage","paths","pageAppCommit","pageApp","page","oops","noPermissions","InsightsRoute","rootClass","rest","root","document","getElementById","removeAttribute","classList","add","setAttribute","propTypes","PropTypes","Routes","path","useLocation","pathname","render","some","p","to","samplePage","childProps","history","push","getRegistry","register","notifications","notificationsReducer","App","insights","chrome","identifyApp","appNav","on","event","navId","store","getStore","withRouter","connect","logger","basename","window","location","release","pathName","split","shift","ReactDOM"],"sourceRoot":""}